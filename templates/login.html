<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Hello</title>

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <script>
        
        function login() {
            const key = $('#key').val();
            const id = $('#id').val();
            const pw = $('#pw').val();

            // Break: Check if Both id and pw is typed?
            if(!(key && id && pw)) {
                return alert('ìŒì‹ì´ë‚˜ ID, PW ì¤‘ ë¬´ì–¸ê°€ê°€ ë¹ ì ¸ìˆìŠµë‹ˆë‹¤ ğŸ¥±')
            }
            $.ajax({
                type: "POST",
                url:"/login",
                data:{
                    key_give: key,
                    id_give: id,
                    pw_give: pw
                },
                success: function(response) {
                    
                    if (Number(response['available'])) {
                        alert(`ì„±ê³µ: ${response['msg']}`)
                        window.location.href = "/home"
                    } else {
                        alert(`ì‹¤íŒ¨: ${response['msg']}`)
                    }
                }
            })
        }

        function register() {
            $.ajax({
                type:"GET",
                url:"/register",
                data:{},
                success: function(response) {
                    window.location.href = "/register";
                }
            })
        }

    </script>
</head>


<body>
<form>
    <label for="name">ì›¹ì‚¬ì´íŠ¸ ì£¼ì¸ì´ ê°€ì¥ ì¢‹ì•„í•˜ëŠ” ìŒì‹ì€?</label>
    <input type="text" id="key" name="name" placeholder="ìŒì‹">
    <br>
    <label for="id">ì•„ì´ë””</label>
    <input type="text" id="id" name="id" placeholder="ì•„ì´ë””">
    <br>
    <label for="pw">ë¹„ë°€ë²ˆí˜¸</label>
    <input type="text" id="pw" name="pw" placeholder="ë¹„ë°€ë²ˆí˜¸">
    <br>
    <button onclick="login()" type="button">ë¡œê·¸ì¸</button>
</form>

<button onclick="register()" type="button">íšŒì›ê°€ì…</button>
</body>
</html>